---
import Base from '../../layouts/Base.astro';
import PageHero from '../../components/shared/PageHero.astro';

// Load team data from Planning Center sync
let instructor = null;
try {
  const teamData = await import('../../data/team.json');
  instructor = (teamData.team || []).find(m => m.slug === 'christopher_huff');
} catch (e) {
  console.log('Team data not yet generated');
}

// Use synced data or fallback
const instructorImage = instructor?.image || '/team/christopher_huff.jpg';
const instructorName = instructor?.displayName || 'Christopher & Heather Huff';
const instructorBio = instructor?.bio || '';
---

<Base title="Foundations Class" description="Learn about what we believe and how to get connected at River of Life through our Foundations class.">
  <PageHero title="Foundations Class" image="/hero/5.jpg" />

  <section class="page-content">
    <div class="container">
      <div class="intro">
        <h2>Build a Strong Foundation</h2>
        <p>Foundations is designed to help you learn about what we believe, how River of Life operates, and how you can get connected and grow in your faith journey.</p>
      </div>

      <div class={`instructor ${instructorBio ? 'has-bio' : ''}`}>
        <img src={instructorImage} alt={instructorName} class="instructor-photo" />
        <div class="instructor-info">
          <span class="label">Taught by</span>
          <span class="name">{instructorName}</span>
          {instructorBio && (
            <p class="instructor-bio">{instructorBio}</p>
          )}
        </div>
      </div>

      <div class="class-details">
        <div class="detail">
          <span class="label">When</span>
          <span class="value">Sundays at 10:00 AM</span>
        </div>
        <div class="detail">
          <span class="label">Duration</span>
          <span class="value">4 weeks</span>
        </div>
      </div>

      <div class="what-youll-learn">
        <h3>What You'll Learn</h3>
        <ul>
          <li>Our core beliefs and values</li>
          <li>The history and vision of River of Life</li>
          <li>How to get connected in community</li>
          <li>Opportunities to serve and grow</li>
          <li>Your next steps in faith</li>
        </ul>
      </div>

      <div class="signup-section">
        <h2>Sign Up for Foundations</h2>
        <p>Ready to take this step? Register and we'll be in touch with details.</p>
        <a
          href="https://rolhenry.churchcenter.com/people/forms/1102413"
          data-open-in-church-center-modal="true"
          class="btn btn-large"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/></svg>
          Sign Up
        </a>
      </div>
    </div>
  </section>
</Base>

<script src="https://js.churchcenter.com/modal/v1"></script>

<style>
  .page-content {
    padding: 4rem 2rem;
  }

  .page-content .container {
    max-width: 800px;
    margin: 0 auto;
  }

  .intro {
    text-align: center;
    margin-bottom: 3rem;
  }

  .intro h2 {
    color: var(--color-navy);
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .intro p {
    color: var(--color-text-light);
    font-size: 1.1rem;
    line-height: 1.8;
  }

  .instructor {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1.5rem;
    margin-bottom: 2rem;
  }

  .instructor-photo {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
  }

  .instructor-info {
    text-align: left;
  }

  .instructor-info .label {
    display: block;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-text-light);
    margin-bottom: 0.25rem;
  }

  .instructor-info .name {
    display: block;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-navy);
  }

  .instructor-bio {
    margin-top: 0.75rem;
    font-size: 0.95rem;
    color: var(--color-text-light);
    line-height: 1.6;
    max-width: 400px;
  }

  .instructor.has-bio {
    flex-direction: column;
    text-align: center;
    padding: 2rem;
    background: var(--color-bg-alt);
    border-radius: 0.75rem;
  }

  .instructor.has-bio .instructor-info {
    text-align: center;
  }

  .class-details {
    display: flex;
    justify-content: center;
    gap: 3rem;
    margin-bottom: 3rem;
    padding: 2rem;
    background: var(--color-navy);
    border-radius: 0.5rem;
  }

  .class-details .detail {
    text-align: center;
  }

  .class-details .label {
    display: block;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: rgba(255,255,255,0.7);
    margin-bottom: 0.25rem;
  }

  .class-details .value {
    display: block;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-gold);
  }

  .what-youll-learn {
    background: var(--color-bg-alt);
    padding: 2rem;
    border-radius: 0.5rem;
    margin-bottom: 3rem;
  }

  .what-youll-learn h3 {
    color: var(--color-navy);
    margin-bottom: 1rem;
  }

  .what-youll-learn ul {
    list-style: none;
    padding: 0;
  }

  .what-youll-learn li {
    padding: 0.5rem 0;
    padding-left: 1.5rem;
    position: relative;
    color: var(--color-text);
  }

  .what-youll-learn li::before {
    content: "âœ“";
    position: absolute;
    left: 0;
    color: var(--color-teal);
    font-weight: bold;
  }

  .signup-section {
    text-align: center;
  }

  .signup-section h2 {
    color: var(--color-navy);
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .signup-section > p {
    color: var(--color-text-light);
    margin-bottom: 2rem;
  }

  .btn-large {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: var(--color-teal);
    color: white !important;
    padding: 1rem 2.5rem;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 0.5rem;
    text-decoration: none;
    transition: background 0.2s, transform 0.2s;
  }

  .btn-large:hover {
    background: var(--color-teal-dark);
    transform: translateY(-2px);
  }
</style>
